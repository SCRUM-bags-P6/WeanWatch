/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package WeanWatch;

import java.awt.Color;
import java.awt.Dimension;

import WeanWatch.controller.MetaphoricHandlerCtrl;
import WeanWatch.controller.RootCtrl;
import WeanWatch.controller.TriangleMetaphoricCtrl;
import WeanWatch.model.PDMSConn;
import javafx.application.Application;
import javafx.fxml.FXMLLoader;
import javafx.scene.Group;
import javafx.scene.Scene;
import javafx.scene.layout.AnchorPane;
import javafx.scene.layout.BorderPane;
import javafx.scene.layout.Pane;
import javafx.scene.layout.VBox;
import javafx.scene.shape.Polygon;
import javafx.stage.Stage;
import java.io.FileInputStream;
import javafx.fxml.FXML;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.layout.HBox;



import javafx.scene.paint.*;

import WeanWatch.model.*;


public class App extends Application {

    public static void main(String[] args) {
        // Launch JavaFX
        launch(args); 

        PDMSConn pdmsConn = PDMSConn.getInstance();

        pdmsConn.getPatients();
    }

    @Override
    public void start(Stage primaryStage) throws Exception {
        // Get screen size
        Dimension screenSize = java.awt.Toolkit.getDefaultToolkit().getScreenSize();

        System.out.println(screenSize.getHeight());
        System.out.println(screenSize.getWidth());


        double width = screenSize.getWidth();
		double height = screenSize.getHeight();
		
/*		
        FXMLLoader loader = new FXMLLoader();
        loader.setLocation(App.class.getClassLoader().getResource("view/LoginView.fxml"));
        BorderPane view = (BorderPane) loader.load();
*/


		//Kun til test af figurer
		DetectedCase detectedCase = new DetectedCase();
		//DetectedCase detectedCase2 = new DetectedCase();

		TriangleMetaphoricCtrl MCtrl = new TriangleMetaphoricCtrl(detectedCase);
		//TriangleMetaphoricCtrl MCtrl2 = new TriangleMetaphoricCtrl(detectedCase2);


		TriangleFigure root = MCtrl.drawFigure(0, 31.00, 250.00, 151.00, 250.00, 91.00, 350.00, 3, 31.00, 260.00, 151.00, 260.00, 91.00, 160.00);
		TriangleFigure root2 = MCtrl.drawFigure(0, 31.00, 250.00, 151.00, 250.00, 91.00, 350.00, 3, 31.00, 260.00, 151.00, 260.00, 91.00, 160.00);
		TriangleFigure root3 = MCtrl.drawFigure(0, 31.00, 250.00, 151.00, 250.00, 91.00, 350.00, 3, 31.00, 260.00, 151.00, 260.00, 91.00, 160.00);
		
		/*
		Group rootBottom = MCtrl.drawFigure(0, 1.00, 200.00, 121.00, 200.00, 61.00, 300.00, 1, 1.00, 210.00, 121.00, 210.00, 61.00, 110.00);
		Group rootBottom2 = MCtrl.drawFigure(0, 1.00, 200.00, 121.00, 200.00, 61.00, 300.00, 1, 1.00, 210.00, 121.00, 210.00, 61.00, 110.00);
		Group rootBottom3 = MCtrl.drawFigure(0, 1.00, 200.00, 121.00, 200.00, 61.00, 300.00, 1, 1.00, 210.00, 121.00, 210.00, 61.00, 110.00);
		*/
		

		//MHCtrl.insertMetaphoricFigure(root);

		
		FXMLLoader loader = new FXMLLoader();
		loader.setLocation(App.class.getClassLoader().getResource("view/MetaphoricHandlerView.fxml"));
		VBox view = (VBox) loader.load();

		
		MetaphoricHandlerCtrl MHCtrl = loader.getController();
		MHCtrl.setMetaphoricCtrl(MCtrl);

		//Indsæt figur i top
		MHCtrl.insertMetaphoricFigureTop(root.getFigureTop());
		MHCtrl.insertMetaphoricFigureTop(root2.getFigureTop());
		MHCtrl.insertMetaphoricFigureTop(root3.getFigureTop());

		//Indsæt figur i bottom
		MHCtrl.insertMetaphoricFigureBottom(root.getFigureBottom());
		MHCtrl.insertMetaphoricFigureBottom(root2.getFigureBottom());
		MHCtrl.insertMetaphoricFigureBottom(root3.getFigureBottom());
		
		
	
		
		//String print = loader.getController().getClass().getName();
		//System.out.println(print);

		
		

		try {
			primaryStage.setScene(new Scene(view, width, height));			
			//primaryStage.setScene(new Scene(view, width, height));
			//primaryStage.getScene().getStylesheets().add("view/Stylesheet.css");
			primaryStage.show();
            
		} catch (Exception e) {
			e.printStackTrace();
		}

		//System.out.println(firstTriangle.getPoints());
        // TODO Auto-generated method stub
        
    }
}
